{"version":3,"sources":["pages/pages.ts"],"names":["App","App.constructor","App.isHome","App.openGithubLogin","App.openCreateItem","App.checkCallback"],"mappings":"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","file":"pages/pages.js","sourcesContent":["/// <reference path=\"../../typings/tsd.d.ts\" />\n\n// Angular 2\n\nimport {bootstrap, Component, View, coreDirectives, NgFor, NgIf} from 'angular2/angular2';\nimport {RouteConfig, RouterOutlet, RouterLink, Router} from 'angular2/router';\nimport {BrowserLocation} from 'angular2/src/router/browser_location';\n\nimport {GithubService} from '../services/GithubService';\nimport {CreateBook} from './create/create-book';\nimport {EditBook} from './edit/edit-book';\n\nimport {MainItemList} from './list/MainItemList';\nimport {RecommendedItemList} from './list/RecommendedItemList';\n\nimport {ViewBook} from './view/view-book';\n\nimport {TagList} from '../partial/TagList';\n\n@Component({\n    selector: 'source-app',\n    appInjector: [GithubService]\n})\n\n@View({\n    directives: [ RouterOutlet, RouterLink, coreDirectives, TagList],\n    template: `\n        <header>\n            <div id=\"head_left\">\n                <div id=\"head_logo\"><img src=\"/public/img/source_logo.svg\" width=\"80px\" height=\"20px\"></div>\n                <ul>\n                    <li class=\"\" router-link=\"main_list\">Home</li>\n                    <li class=\"head_menu_active\" router-link=\"recommended_list\">Recommended</li>\n                </ul>\n            </div>\n            <div id=\"head_right\">\n                <div (click)=\"openCreateItem()\" id=\"button_add\">\n                    <img src=\"/public/img/plus.svg\" width=\"12px\" height=\"12px\">Add Item\n                </div>\n                <div (click)=\"openGithubLogin()\" id=\"button_login\">\n                    <img src=\"/public/img/github.svg\" width=\"15px\" height=\"15px\">\n                    Login to Github\n                </div>\n            </div>\n        </header>\n        <div id=\"main_content\">\n\n            <div id=\"left_navigation\">\n                <ul>\n                    <li class=\"left_navigation_active\">Poplur</li>\n                    <li>Your posted</li>\n                    <li>Your stars</li>\n                </ul>\n\n                <tag-lists></tag-lists>\n            </div>\n            <div id=\"right_content\">\n                <router-outlet></router-outlet>\n            </div>\n        </div>\n  `\n})\n\n@RouteConfig([\n    { path: '/#/main_list',        as: 'main_list',        component: MainItemList },\n    { path: '/#/recommended_list', as: 'recommended_list', component: RecommendedItemList },\n    { path: '/edit/:id',    as: 'edit',      component: EditBook },\n    { path: '/view/:id',    as: 'view',      component: ViewBook }\n])\n\nexport class App {\n    constructor(router: Router, browserLocation: BrowserLocation, public githubService: GithubService) {\n        this.checkCallback();\n    }\n\n    public isHome(browserLocation: BrowserLocation){\n        return {head_menu_active: browserLocation.path() == '/'}\n    }\n    public openGithubLogin(){\n        this.githubService.doLogin();\n        //alert(\"click!!!!\");\n    }\n    public openCreateItem(){\n        alert(\"create item!!!!\");\n    }\n    private checkCallback(){\n        var authCode: string ;\n        if (location.href.indexOf(\"code\") > -1){\n            authCode = location.href.match(/[&\\?]code=([\\w\\/\\-]+)/)[1];\n            console.log(authCode);\n        }\n        if (authCode != null) { // and if the URL has an access token then process the URL for access token and expiration time\n            this.githubService.getAccessToken(authCode).then(function(response) {\n                console.log('response', response);\n            }).then(function(json) {\n                console.log('parsed json', json);\n            }).catch(function(ex) {\n                console.log('parsing failed', ex);\n                alert('error');\n                location.href = '/';\n            });\n        }\n    }\n\n}\n\n"],"sourceRoot":"/source/"}